from sqlalchemy import Column, Integer, String, Boolean, ForeignKey
from .database import Base


class User(Base):
    __tablename__ = "user"

    id = Column(Integer, primary_key=True, index=True)
    email = Column(String(40), unique=True, index=True)
    password = Column(String(200))
    name = Column(String(40))
    date = Column(String(200))




class Projet(Base):
    __tablename__ = "projet"

    id = Column(Integer, primary_key=True, index=True)
    total = Column(String(200))
    date = Column(String(200))
    name = Column(String(200))
    description = Column(String(200))
    high = Column(Boolean)
    medium = Column(Boolean)
    low = Column(Boolean)
    idu = Column(Integer, ForeignKey('user.id', ondelete="CASCADE"))


class Dynamicscan(Base):
    __tablename__ = "dynamicscan"

    id = Column(Integer, primary_key=True, index=True)
    url = Column(String(200))
    date = Column(String(200))
    total = Column(String(200))
    high = Column(Boolean)
    medium = Column(Boolean)
    low = Column(Boolean)
    idp = Column(Integer, ForeignKey('projet.id', ondelete="CASCADE"))
    idc = Column(Integer, ForeignKey('connectors.id', ondelete="CASCADE"))


class Infrastructure(Base):
    __tablename__ = "infrastructure"

    id = Column(Integer, primary_key=True, index=True)
    target = Column(String(200))
    date = Column(String(200))
    total = Column(String(200))
    high = Column(Boolean)
    medium = Column(Boolean)
    low = Column(Boolean)
    idp = Column(Integer, ForeignKey('projet.id', ondelete="CASCADE"))
    idc = Column(Integer, ForeignKey('connectors.id', ondelete="CASCADE"))


class Connectors(Base):
    __tablename__ = "connectors"

    id = Column(Integer, primary_key=True, index=True)
    name = Column(String(200))
    status = Column(String(200))
    date = Column(String(200))
